<!DOCTYPE html>
<html lang="pt-br">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ACall me</title>
	<link rel="stylesheet" href="css/global.css" />
	<link rel="stylesheet" href="css/header.css" />
	<link rel="stylesheet" href="css/login.css">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet" />
	<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.5.0/mdb.min.css" rel="stylesheet" />
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.5.0/mdb.min.js"></script>
</head>

<body>
	<header class="px-md-3 px-lg-4">
		<nav class="navbar navbar-expand-md navbar-light bg-light">
			<div class="container-fluid">
				<a class="d-flex align-items-center text-black navbar-brand" href="index.html">
					ACall me
				</a>
			</div>
		</nav>
	</header>

	<main class="d-flex align-items-md-center">
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-xl-5 col-md-8 col-12">
					<form class="form-background shadow-1 rounded px-4 px-sm-5 pt-5 pb-3" onsubmit="handleSubmit(event)">
						<div class="mb-4 text-center">
							<h2 class="text-primary">Acesse sua conta</h2>
							<p>Para continuar, inicie sua sesão com sua conta na <strong>ACall me</strong></p>
						</div>

						<div>
							<div class="mb-3">
								<label class="form-label mb-1" for="email">E-mail:</label>
								<input type="email" id="email" class="form-control" required onchange="handleChange(event, 'email')"/>
							</div>

							<div class="mb-1">
								<label class="form-label mb-1" for="password">Senha:</label>
								<input type="password" id="password" class="form-control" required onchange="handleChange(event, 'password')" />
							</div>

							<div class="mb-4 d-flex justify-content-end">
								<a href="forgot-password.html" class="link">
									Esqueceu a senha?
								</a>
							</div>
						</div>

						<div class="mb-3">
							<button type="submit" name="login" class="btn btn-primary col-12 disabled" data-mdb-ripple-color="dark">Fazer login</button>
						</div>

						<div class="row mb-3 d-flex justify-content-between">
							<div class="col-5">
								<hr/>
							</div>
							<div class="col-2 d-flex justify-content-center align-items-center">
								<p class="mb-0">ou</p>
							</div>
							<div class="col-5">
								<hr/>
							</div>
						</div>

						<div class="text-center mb-5">
							<button type="button" class="btn btn-outline-primary mx-1 btn-google" onclick="onSignIn()" data-mdb-ripple-color="dark">
								<i class="fab fa-google pe-3"></i>
								<strong>Entre com o Google</strong>
							</button>
						</div>
						<div class="text-center">
							<p>Não tem uma conta? <a href="signup.html" class="link">Registre-se</a></p>
						</div>
					</form>
				</div>
			</div>
		</div>
	</main>
</body>
<script type="text/javascript">
	const emailElement = document.getElementById('email')
	const passwordElement = document.getElementById('password')
	const signInButtonElement = document.getElementsByName('login')[0]

	const formValues = {
		email: '',
		password: ''
	}

	function handleChange(e, field) {
		const inputValue = e.target.value

		if (field === 'email') {
			const validEmail = inputValue.match(/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/g)

			if (!validEmail || !inputValue.trim()) {
				emailElement.classList.add('is-invalid')
				signInButtonElement.classList.add('disabled')
				return
			}

			emailElement.classList.remove('is-invalid')
			signInButtonElement.classList.remove('disabled')
			emailElement.classList.add('is-valid')
		}

		if (field === 'password') {
			passwordElement.classList.add('is-valid')
		}

		return formValues[field] = inputValue
	}

	function handleSubmit(e) {
		e.preventDefault()
		alert(`Login\n\nE-mail: ${formValues.email}\nSenha: ${formValues.password}`)
	}

	function onSignIn() {
		alert('Login pelo Google')
	}
</script>
</html>
